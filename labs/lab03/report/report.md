---
## Front matter
title: "Отчёт по лабораторной работе 3"
subtitle: "Планирование локальной сети организаци"
author: "Гафоров Нурмухаммад"

## Generic otions
lang: ru-RU
toc-title: "Содержание"

## Bibliography
bibliography: bib/cite.bib
csl: pandoc/csl/gost-r-7-0-5-2008-numeric.csl

## Pdf output format
toc: true # Table of contents
toc-depth: 2
lof: true # List of figures
lot: true # List of tables
fontsize: 12pt
linestretch: 1.5
papersize: a
documentclass: scrreprt
## I18n polyglossia
polyglossia-lang:
  name: russian
  options:
	- spelling=modern
	- babelshorthands=true
polyglossia-otherlangs:
  name: english
## I18n babel
babel-lang: russian
babel-otherlangs: english
## Fonts
mainfont: IBM Plex Serif
romanfont: IBM Plex Serif
sansfont: IBM Plex Sans
monofont: IBM Plex Mono
mathfont: STIX Two Math
mainfontoptions: Ligatures=Common,Ligatures=TeX,Scale=0.94
romanfontoptions: Ligatures=Common,Ligatures=TeX,Scale=0.94
sansfontoptions: Ligatures=Common,Ligatures=TeX,Scale=MatchLowercase,Scale=0.94
monofontoptions: Scale=MatchLowercase,Scale=0.94,FakeStretch=0.9
mathfontoptions:
## Biblatex
biblatex: true
biblio-style: "gost-numeric"
biblatexoptions:
  - parentracker=true
  - backend=biber
  - hyperref=auto
  - language=auto
  - autolang=other*
  - citestyle=gost-numeric
## Pandoc-crossref LaTeX customization
figureTitle: "Рис."
tableTitle: "Таблица"
listingTitle: "Листинг"
lofTitle: "Список иллюстраций"
lotTitle: "Список таблиц"
lolTitle: "Листинги"
## Misc options
indent: true
header-includes:
  - \usepackage{indentfirst}
  - \usepackage{float} # keep figures where there are in the text
  - \floatplacement{figure}{H} # keep figures where there are in the text
---

# Введение

## Цель работы  

Познакомится с принципами планирования локальной сети организации.

# Ход выполнения

В графическом редакторе были воспроизведены схемы проектируемой сети на уровнях L1, L2 и L3 для адресного пространства **10.128.0.0/16**. Дополнительно подготовлены таблицы VLAN, IP-адресации и портов подключения оборудования.

## Схема L1 (физический уровень)

На схеме L1 отражены физические соединения между маршрутизатором, коммутаторами и конечными устройствами. Указаны конкретные интерфейсы (FastEthernet/GigabitEthernet), что позволяет однозначно определить структуру кабельных соединений.

- Центральный шлюз: **msk-donskaya-ngaforov-gw-1**
- Коммутаторы распределения и доступа:
  - msk-donskaya-ngaforov-sw-1
  - msk-donskaya-ngaforov-sw-2
  - msk-donskaya-ngaforov-sw-3
  - msk-donskaya-ngaforov-sw-4
  - msk-pavlovskaya-ngaforov-sw-1
- Серверная ферма подключена к sw-2 и sw-3
- Пользовательские устройства подключены к коммутаторам доступа

![Схема L1 — физическая топология](01.png)

**Комментарий:**  
На уровне L1 отображается исключительно физическая структура сети без логического разделения на VLAN и подсети.

## Схема L2 (канальный уровень, VLAN)

На схеме L2 добавлено логическое разделение сети по VLAN.  
Отображены:

- Access-порты с назначенными VLAN
- Trunk-соединения с перечнем разрешённых VLAN
- Разделение серверного сегмента и пользовательских групп

Используемые VLAN:

- VLAN 2 — management  
- VLAN 3 — servers  
- VLAN 101 — dk  
- VLAN 102 — departments  
- VLAN 103 — adm  
- VLAN 104 — other  

![Схема L2 — распределение VLAN](02.png)

**Комментарий:**  
Trunk-линии между коммутаторами и шлюзом обеспечивают передачу нескольких VLAN, а access-порты привязывают конечные устройства к конкретным широковещательным доменам.

## Схема L3 (сетевой уровень, IP-адресация)

На схеме L3 показано разбиение сети **10.128.0.0/16** на подсети /24, каждая из которых соответствует определённому VLAN.  
Маршрутизация между подсетями выполняется через msk-donskaya-ngaforov-gw-1.

![Схема L3 — логическая адресация](03.png)

## Таблица VLAN

| № VLAN | Имя VLAN     | Примечание |
|--------|-------------|------------|
| 1      | default     | Не используется |
| 2      | management  | Для управления устройствами |
| 3      | servers     | Серверная ферма |
| 4–100  | —           | Зарезервировано |
| 101    | dk          | Дисплейные классы |
| 102    | departments | Кафедры |
| 103    | adm         | Администрация |
| 104    | other       | Другие пользователи |

## Таблица IP-адресации (10.128.0.0/16)

### Серверная ферма — 10.128.0.0/24 (VLAN 3)

| IP-адрес        | Назначение |
|----------------|------------|
| 10.128.0.1     | Шлюз |
| 10.128.0.2     | Web |
| 10.128.0.3     | File |
| 10.128.0.4     | Mail |
| 10.128.0.5     | DNS |
| 10.128.0.6–254 | Резерв |

### Управление — 10.128.1.0/24 (VLAN 2)

| IP-адрес        | Назначение |
|----------------|------------|
| 10.128.1.1     | Шлюз |
| 10.128.1.2     | msk-donskaya-sw-1 |
| 10.128.1.3     | msk-donskaya-sw-2 |
| 10.128.1.4     | msk-donskaya-sw-3 |
| 10.128.1.5     | msk-donskaya-sw-4 |
| 10.128.1.6     | msk-pavlovskaya-sw-1 |
| 10.128.1.7–254 | Резерв |

### Point-to-Point — 10.128.2.0/24

| IP-адрес        | Назначение |
|----------------|------------|
| 10.128.2.1     | Шлюз |
| 10.128.2.2–254 | Резерв |

### Дисплейные классы — 10.128.3.0/24 (VLAN 101)

| IP-адрес        | Назначение |
|----------------|------------|
| 10.128.3.1     | Шлюз |
| 10.128.3.2–254 | Пул пользователей |

### Кафедры — 10.128.4.0/24 (VLAN 102)

| IP-адрес        | Назначение |
|----------------|------------|
| 10.128.4.1     | Шлюз |
| 10.128.4.2–254 | Пул пользователей |

### Администрация — 10.128.5.0/24 (VLAN 103)

| IP-адрес        | Назначение |
|----------------|------------|
| 10.128.5.1     | Шлюз |
| 10.128.5.2–254 | Пул пользователей |

### Другие пользователи — 10.128.6.0/24 (VLAN 104)

| IP-адрес        | Назначение |
|----------------|------------|
| 10.128.6.1     | Шлюз |
| 10.128.6.2–254 | Пул пользователей |

## Таблица портов подключения

| Устройство | Порт | Назначение | Access VLAN | Trunk VLAN |
|------------|------|------------|-------------|------------|
| msk-donskaya-gw-1 | f0/0 | к sw-1 | — | 2,3,101,102,103,104 |
| msk-donskaya-sw-1 | f0/24 | к gw-1 | — | 2,3,101,102,103,104 |
| msk-donskaya-sw-1 | g0/1 | к sw-2 | — | 2,3 |
| msk-donskaya-sw-1 | g0/2 | к sw-4 | — | 2,101,102,103,104 |
| msk-donskaya-sw-2 | f0/1 | Web-server | 3 | — |
| msk-donskaya-sw-2 | f0/2 | File-server | 3 | — |
| msk-donskaya-sw-3 | f0/1 | Mail-server | 3 | — |
| msk-donskaya-sw-3 | f0/2 | Dns-server | 3 | — |
| msk-donskaya-sw-4 | f0/1–5 | dk | 101 | — |
| msk-donskaya-sw-4 | f0/6–10 | departments | 102 | — |
| msk-donskaya-sw-4 | f0/11–15 | adm | 103 | — |
| msk-donskaya-sw-4 | f0/16–24 | other | 104 | — |

## Регламент распределения IP-адресов (/24)

| Диапазон | Назначение |
|----------|-----------|
| 1 | Шлюз |
| 2–19 | Сетевое оборудование |
| 20–29 | Серверы |
| 30–199 | DHCP |
| 200–219 | Static |
| 220–229 | Принтеры |
| 230–254 | Резерв |

## План адресного пространства для 172.16.0.0/12 и 192.168.0.0/16

### Исходные допущения

- **Физический уровень (L1) не изменяется**: состав оборудования, кабельные соединения и номера портов остаются теми же, что и в исходной схеме.
- **Канальный уровень (L2) не изменяется**: набор VLAN, назначение VLAN и распределение портов **без изменений**.
- Меняется **только адресация (L3)**: вместо 10.128.0.0/16 формируются аналогичные подсети /24 в двух новых адресных пространствах:
  - **172.16.0.0/12**
  - **192.168.0.0/16**

Ниже приведены схемы L3 и актуализированные таблицы IP-адресов (VLAN и порты — те же, приведены для полноты отчёта).

### Схема L3 для 172.16.0.0/12

![Схема L3 — адресация 172.16.0.0/12](04.png)

#### Логическая структура подсетей (аналогично исходной)

- **172.16.0.0/24** — Серверная ферма (VLAN 3)  
- **172.16.1.0/24** — Сеть управления (VLAN 2)  
- **172.16.2.0/24** — Point-to-Point (служебная подсеть)  
- **172.16.3.0/24** — Дисплейные классы (VLAN 101)  
- **172.16.4.0/24** — Кафедры (VLAN 102)  
- **172.16.5.0/24** — Администрация (VLAN 103)  
- **172.16.6.0/24** — Другие пользователи (VLAN 104)

### Схема L3 для 192.168.0.0/16

![Схема L3 — адресация 192.168.0.0/16](05.png)

#### Логическая структура подсетей (аналогично исходной)

- **192.168.0.0/24** — Серверная ферма (VLAN 3)  
- **192.168.1.0/24** — Сеть управления (VLAN 2)  
- **192.168.2.0/24** — Point-to-Point (служебная подсеть)  
- **192.168.3.0/24** — Дисплейные классы (VLAN 101)  
- **192.168.4.0/24** — Кафедры (VLAN 102)  
- **192.168.5.0/24** — Администрация (VLAN 103)  
- **192.168.6.0/24** — Другие пользователи (VLAN 104)

## Таблица VLAN

| № VLAN | Имя VLAN     | Примечание |
|------:|--------------|-----------|
| 1     | default      | Не используется |
| 2     | management   | Для управления устройствами |
| 3     | servers      | Для серверной фермы |
| 4–100 | —            | Зарезервировано |
| 101   | dk           | Дисплейные классы (ДК) |
| 102   | departments  | Кафедры |
| 103   | adm          | Администрация |
| 104   | other        | Для других пользователей |

## Таблица портов подключения (без изменений)

> Примечание: физические порты и режимы access/trunk полностью совпадают с исходной схемой.  
> Ниже приведено в виде единой таблицы для отчёта.

| Устройство | Порт | Назначение | Access VLAN | Trunk VLAN |
|------------|------|------------|-------------|------------|
| msk-donskaya-gw-1 | f0/1 | UpLink | — | — |
| msk-donskaya-gw-1 | f0/0 | к msk-donskaya-sw-1 | — | 2, 3, 101, 102, 103, 104 |
| msk-donskaya-sw-1 | f0/24 | к msk-donskaya-gw-1 | — | 2, 3, 101, 102, 103, 104 |
| msk-donskaya-sw-1 | g0/1 | к msk-donskaya-sw-2 | — | 2, 3 |
| msk-donskaya-sw-1 | g0/2 | к msk-donskaya-sw-4 | — | 2, 101, 102, 103, 104 |
| msk-donskaya-sw-1 | f0/1 | к msk-pavlovskaya-sw-1 | — | 2, 101, 104 |
| msk-donskaya-sw-2 | g0/1 | к msk-donskaya-sw-1 | — | 2, 3 |
| msk-donskaya-sw-2 | g0/2 | к msk-donskaya-sw-3 | — | 2, 3 |
| msk-donskaya-sw-2 | f0/1 | Web-server | 3 | — |
| msk-donskaya-sw-2 | f0/2 | File-server | 3 | — |
| msk-donskaya-sw-3 | g0/1 | к msk-donskaya-sw-2 | — | 2, 3 |
| msk-donskaya-sw-3 | f0/1 | Mail-server | 3 | — |
| msk-donskaya-sw-3 | f0/2 | Dns-server | 3 | — |
| msk-donskaya-sw-4 | g0/1 | к msk-donskaya-sw-1 | — | 2, 101, 102, 103, 104 |
| msk-donskaya-sw-4 | f0/1–f0/5 | dk | 101 | — |
| msk-donskaya-sw-4 | f0/6–f0/10 | departments | 102 | — |
| msk-donskaya-sw-4 | f0/11–f0/15 | adm | 103 | — |
| msk-donskaya-sw-4 | f0/16–f0/24 | other | 104 | — |
| msk-pavlovskaya-sw-1 | f0/24 | к msk-donskaya-sw-1 | — | 2, 101, 104 |
| msk-pavlovskaya-sw-1 | f0/1–f0/15 | dk | 101 | — |
| msk-pavlovskaya-sw-1 | f0/20 | other | 104 | — |

## Таблица IP-адресации для 172.16.0.0/12

> Принцип: в каждой /24 подсети **.1 — шлюз**, диапазоны назначений соответствуют регламенту (см. ниже).

### VLAN 3 — Серверная ферма (172.16.0.0/24)

| IP-адрес | Назначение |
|---|---|
| 172.16.0.1 | Шлюз |
| 172.16.0.2 | Web |
| 172.16.0.3 | File |
| 172.16.0.4 | Mail |
| 172.16.0.5 | DNS |
| 172.16.0.6–172.16.0.254 | Резерв/по регламенту |

### VLAN 2 — Управление (172.16.1.0/24)

| IP-адрес | Назначение |
|---|---|
| 172.16.1.1 | Шлюз |
| 172.16.1.2 | msk-donskaya-sw-1 |
| 172.16.1.3 | msk-donskaya-sw-2 |
| 172.16.1.4 | msk-donskaya-sw-3 |
| 172.16.1.5 | msk-donskaya-sw-4 |
| 172.16.1.6 | msk-pavlovskaya-sw-1 |
| 172.16.1.7–172.16.1.254 | Резерв/по регламенту |

### Сеть Point-to-Point (172.16.2.0/24)

| IP-адрес | Назначение |
|---|---|
| 172.16.2.1 | Шлюз |
| 172.16.2.2–172.16.2.254 | Резерв |

### VLAN 101 — Дисплейные классы (172.16.3.0/24)

| IP-адрес | Назначение |
|---|---|
| 172.16.3.1 | Шлюз |
| 172.16.3.2–172.16.3.254 | Пул пользователей |

### VLAN 102 — Кафедры (172.16.4.0/24)

| IP-адрес | Назначение |
|---|---|
| 172.16.4.1 | Шлюз |
| 172.16.4.2–172.16.4.254 | Пул пользователей |

### VLAN 103 — Администрация (172.16.5.0/24)

| IP-адрес | Назначение |
|---|---|
| 172.16.5.1 | Шлюз |
| 172.16.5.2–172.16.5.254 | Пул пользователей |

### VLAN 104 — Другие пользователи (172.16.6.0/24)

| IP-адрес | Назначение |
|---|---|
| 172.16.6.1 | Шлюз |
| 172.16.6.2–172.16.6.254 | Пул пользователей |

## Таблица IP-адресации для 192.168.0.0/16

### VLAN 3 — Серверная ферма (192.168.0.0/24)

| IP-адрес | Назначение |
|---|---|
| 192.168.0.1 | Шлюз |
| 192.168.0.2 | Web |
| 192.168.0.3 | File |
| 192.168.0.4 | Mail |
| 192.168.0.5 | DNS |
| 192.168.0.6–192.168.0.254 | Резерв/по регламенту |

### VLAN 2 — Управление (192.168.1.0/24)

| IP-адрес | Назначение |
|---|---|
| 192.168.1.1 | Шлюз |
| 192.168.1.2 | msk-donskaya-sw-1 |
| 192.168.1.3 | msk-donskaya-sw-2 |
| 192.168.1.4 | msk-donskaya-sw-3 |
| 192.168.1.5 | msk-donskaya-sw-4 |
| 192.168.1.6 | msk-pavlovskaya-sw-1 |
| 192.168.1.7–192.168.1.254 | Резерв/по регламенту |

### Сеть Point-to-Point (192.168.2.0/24)

| IP-адрес | Назначение |
|---|---|
| 192.168.2.1 | Шлюз |
| 192.168.2.2–192.168.2.254 | Резерв |

### VLAN 101 — Дисплейные классы (192.168.3.0/24)

| IP-адрес | Назначение |
|---|---|
| 192.168.3.1 | Шлюз |
| 192.168.3.2–192.168.3.254 | Пул пользователей |

### VLAN 102 — Кафедры (192.168.4.0/24)

| IP-адрес | Назначение |
|---|---|
| 192.168.4.1 | Шлюз |
| 192.168.4.2–192.168.4.254 | Пул пользователей |

### VLAN 103 — Администрация (192.168.5.0/24)

| IP-адрес | Назначение |
|---|---|
| 192.168.5.1 | Шлюз |
| 192.168.5.2–192.168.5.254 | Пул пользователей |

### VLAN 104 — Другие пользователи (192.168.6.0/24)

| IP-адрес | Назначение |
|---|---|
| 192.168.6.1 | Шлюз |
| 192.168.6.2–192.168.6.254 | Пул пользователей |

## Регламент выделения IP-адресов для сети класса C (/24)

| Диапазон адресов | Назначение |
|---:|---|
| .1 | Шлюз |
| .2–.19 | Сетевое оборудование |
| .20–.29 | Серверы |
| .30–.199 | Компьютеры, DHCP |
| .200–.219 | Компьютеры, Static |
| .220–.229 | Принтеры |
| .230–.254 | Резерв |


# Вывод

В ходе выполнения работы был разработан план адресного пространства для частных сетей **172.16.0.0/12** и **192.168.0.0/16** на основе ранее спроектированной логической структуры. Выполнено разбиение адресного пространства на подсети /24 в соответствии с действующей схемой VLAN (2, 3, 101–104) и функциональным назначением сегментов сети.

Подтверждено, что изменение IP-адресации не требует модификации физической топологии (L1) и канального уровня (L2), так как структура оборудования, распределение портов и набор VLAN остаются неизменными. Маршрутизация между подсетями осуществляется централизованно через основной шлюз, при этом каждая подсеть имеет выделенный адрес шлюза (.1).

Сформированы таблицы VLAN, IP-адресов и портов подключения оборудования, обеспечивающие однозначное соответствие между логическими сегментами сети и их физической реализацией. Таким образом, получена масштабируемая и унифицированная модель адресации, позволяющая использовать различные частные диапазоны без изменения архитектуры сети.

## Контрольные вопросы

### 1. Что такое модель взаимодействия открытых систем (OSI)? Какие уровни в ней есть? Какие функции закреплены за каждым уровнем?

**Модель OSI (Open Systems Interconnection)** — это эталонная семиуровневая модель, описывающая процессы передачи данных в сети и разделяющая их на логические уровни.

Уровни модели OSI:

1. **Физический (Layer 1)**  
   Передача битов по физической среде. Определяет тип кабеля, разъёмы, уровни сигналов, скорость передачи.

2. **Канальный (Layer 2)**  
   Передача кадров внутри локальной сети. MAC-адресация, контроль ошибок (FCS), управление доступом к среде.

3. **Сетевой (Layer 3)**  
   Логическая адресация и маршрутизация. Использование IP-адресов, выбор пути передачи пакета.

4. **Транспортный (Layer 4)**  
   Доставка данных между процессами. Протоколы TCP (надёжная передача) и UDP (без установления соединения).

5. **Сеансовый (Layer 5)**  
   Установление, поддержание и завершение сеансов связи.

6. **Представительный (Layer 6)**  
   Преобразование форматов данных, шифрование, сжатие.

7. **Прикладной (Layer 7)**  
   Взаимодействие с пользовательскими приложениями (HTTP, FTP, SMTP, DNS и др.).

---

### 2. Какие функции выполняет коммутатор?

Коммутатор (Switch):

- Работает на канальном уровне (L2);
- Анализирует MAC-адреса;
- Формирует таблицу MAC-адресов;
- Передаёт кадр только на порт назначения;
- Разделяет домены коллизий;
- Поддерживает VLAN;
- Может обеспечивать фильтрацию и приоритизацию трафика.

---

### 3. Какие функции выполняет маршрутизатор?

Маршрутизатор (Router):

- Работает на сетевом уровне (L3);
- Соединяет различные сети и подсети;
- Принимает решения на основе IP-адресов;
- Формирует таблицу маршрутизации;
- Выполняет маршрутизацию между VLAN;
- Может выполнять NAT, фильтрацию (ACL), DHCP, VPN.

---

### 4. В чём отличие коммутаторов третьего уровня от коммутаторов второго уровня?

**Коммутатор второго уровня (L2):**
- Работает только с MAC-адресами;
- Передаёт кадры внутри одного VLAN;
- Не выполняет IP-маршрутизацию.

**Коммутатор третьего уровня (L3):**
- Работает с MAC- и IP-адресами;
- Может выполнять маршрутизацию между VLAN;
- Совмещает функции коммутатора и маршрутизатора;
- Обеспечивает высокую скорость межсетевого обмена внутри LAN.

---

### 5. Что такое сетевой интерфейс?

**Сетевой интерфейс** — это аппаратно-программный модуль устройства, обеспечивающий его подключение к сети.  
Может быть физическим (Ethernet-порт, Wi-Fi-адаптер) или логическим (VLAN-интерфейс, Loopback).

---

### 6. Что такое сетевой порт?

**Сетевой порт** — это:

1. Физический разъём на устройстве (например, FastEthernet0/1);
2. Логический идентификатор приложения в транспортном уровне (TCP/UDP-порт, например 80 — HTTP, 443 — HTTPS).

---

### 7. Краткая характеристика Ethernet, Fast Ethernet, Gigabit Ethernet

- **Ethernet** — базовая технология локальных сетей со скоростью до 10 Мбит/с.
- **Fast Ethernet** — развитие Ethernet со скоростью 100 Мбит/с.
- **Gigabit Ethernet** — скорость 1000 Мбит/с (1 Гбит/с), широко используется в современных LAN.

Отличаются пропускной способностью и используемой физической средой.

---

### 8. Что такое IP-адрес (IPv4)? Понятия сеть, подсеть, маска. Служебные адреса. Пример разбиения

**IPv4-адрес** — это 32-битный логический адрес устройства в сети, записываемый в десятичном формате (например, 192.168.1.10).

**Сеть** — совокупность устройств с общей сетевой частью IP-адреса.  
**Подсеть** — логически выделенная часть сети.  
**Маска подсети** — определяет границу между адресом сети и адресом узла (например, 255.255.255.0 или /24).

**Служебные адреса:**
- Адрес сети (все биты узла = 0);
- Broadcast-адрес (все биты узла = 1);
- 127.0.0.0/8 — loopback;
- Частные диапазоны:
  - 10.0.0.0/8
  - 172.16.0.0/12
  - 192.168.0.0/16

**Пример разбиения:**

Сеть 192.168.1.0/24 можно разделить на две подсети /25:

1. 192.168.1.0/25 — 126 узлов  
2. 192.168.1.128/25 — 126 узлов  

В каждой подсети:
- первый адрес — адрес сети,
- последний — broadcast,
- остальные — для устройств.

---

### 9. Что такое VLAN? Для чего применяется? Преимущества

**VLAN (Virtual Local Area Network)** — это виртуальная локальная сеть, позволяющая логически разделить физическую сеть на несколько изолированных сегментов.

Применение:
- Разделение отделов (администрация, кафедры и т.д.);
- Выделение серверного сегмента;
- Изоляция гостевой сети.

Преимущества:
- Повышение безопасности;
- Снижение широковещательного трафика;
- Гибкость администрирования;
- Упрощение масштабирования сети.

---

### 10. Отличие Trunk Port от Access Port

**Access Port:**
- Принадлежит одному VLAN;
- Используется для подключения конечных устройств;
- Передаёт нетегированный трафик.

**Trunk Port:**
- Передаёт несколько VLAN;
- Используется для соединения коммутаторов и маршрутизаторов;
- Применяет тегирование (IEEE 802.1Q).
